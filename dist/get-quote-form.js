"use strict";(()=>{document.addEventListener("DOMContentLoaded",function(){let n=document.querySelectorAll(".form-block-wrapper"),a=document.querySelector(".next-get-quote"),f=document.querySelector(".go-back-get-quote"),u=document.querySelector(".submit-get-quote"),S=["gmail.com","yahoo.com","hotmail.com","outlook.com"],p=document.querySelectorAll(".last-step"),y=document.querySelectorAll(".switch-to-biz"),l=0,c=!1;function b(e){let i=e.closest(".form-input-holder").querySelector(".required-field");if(e.type==="radio"){let t=e.closest(".form-block-wrapper").querySelectorAll(`input[name="${e.name}"]`),o=Array.from(t).some(r=>r.checked);return i.classList.toggle("visible",!o),o}else if(e.tagName==="SELECT"){let t=e.value.trim()==="";return i.classList.toggle("visible",t),!t}else{let t=!e.value.trim();return i.classList.toggle("visible",t),!t}}function E(){n.forEach(e=>{e.querySelectorAll('input[type="text"], input[type="email"]').forEach(s=>{s.addEventListener("input",()=>{s.value.trim()&&s.closest(".form-input-holder").querySelector(".required-field").classList.remove("visible")})}),e.querySelectorAll("select").forEach(s=>{s.addEventListener("change",()=>{s.value.trim()&&s.closest(".form-input-holder").querySelector(".required-field").classList.remove("visible")})});let o=new Set;e.querySelectorAll('input[type="radio"]').forEach(s=>{o.add(s.name)}),o.forEach(s=>{e.querySelectorAll(`input[type="radio"][name="${s}"]`).forEach(d=>{d.addEventListener("change",()=>{d.closest(".form-input-holder").querySelector(".required-field").classList.remove("visible")})})})})}function v(){let e=n[l],i=e.querySelectorAll("[required]"),t=!0;return i.forEach(o=>{let r=o.closest(".form-input-holder").querySelector(".required-field");if(o.type==="radio"){let s=e.querySelectorAll(`input[name="${o.name}"]`);Array.from(s).some(d=>d.checked)||(r.classList.add("visible"),t=!1)}else o.tagName==="SELECT"?o.value.trim()===""&&(r.classList.add("visible"),t=!1):o.value.trim()||(r.classList.add("visible"),t=!1)}),t}function h(e){n.forEach((i,t)=>{t===e?i.classList.remove("hidden"):i.classList.add("hidden")}),f.classList.toggle("visible",e>0),c&&e===1||!c&&e===n.length-1?(a.style.display="none",u.classList.add("visible")):(a.style.display="inline-block",u.classList.remove("visible"))}function L(){let e=document.getElementById("company-type");if(e){if(!Array.from(e.options).some(o=>o.value==="nil")){let o=document.createElement("option");o.value="nil",o.textContent="Nil",e.appendChild(o)}e.value="nil"}let i=document.querySelector('input[type="radio"][value="nil"]');i&&(i.checked=!0);let t=document.getElementById("industry");if(t){if(!Array.from(t.options).some(o=>o.value==="nil")){let o=document.createElement("option");o.value="nil",o.textContent="Nil",t.appendChild(o)}t.value="nil"}}function q(){let e=document.getElementById("company-type");if(e){let o=e.querySelector('option[value="nil"]');o&&o.remove(),e.value=""}let i=document.querySelector('input[type="radio"][value="nil"]');i&&(i.checked=!1);let t=document.getElementById("industry");if(t){let o=t.querySelector('option[value="nil"]');o&&o.remove(),t.value=""}}function g(){let e=n[0].querySelector("input[type='email']");e.addEventListener("input",function(){let i=e.value.trim();c=!S.includes(i.split("@")[1]),c?(p.forEach(t=>t.classList.add("remove")),y.forEach(t=>t.classList.remove("visible"))):(q(),p.forEach(t=>t.classList.remove("remove")),y.forEach(t=>t.classList.add("visible")))})}a.addEventListener("click",function(){v()&&(l===0&&c&&L(),l<n.length-1&&(l++,h(l)))}),f.addEventListener("click",function(){l>0&&(l--,h(l))}),u.addEventListener("click",function(){v()&&console.log("Form Submitted Successfully!")}),n.forEach((e,i)=>{i>0&&e.classList.add("hidden")}),g(),E()});})();
